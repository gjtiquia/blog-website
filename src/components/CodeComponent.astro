---
// References:
// https://docs.astro.build/en/reference/api-reference/#prism-
// https://docs.astro.build/en/guides/markdown-content/#prism-configuration
// https://docs.astro.build/en/guides/styling/#load-a-static-stylesheet-via-link-tags
// https://github.com/PrismJS/prism-themes/blob/master/themes/prism-vsc-dark-plus.css

import { Prism } from "@astrojs/prism";
import type {
    Props as CustomComponentProps,
    TypedObject,
} from "astro-portabletext/types";

interface CodeNode extends TypedObject {
    code?: string;
    language?: string;
}

interface Props extends CustomComponentProps<TypedObject> {}
const { node } = Astro.props;

const codeNode: CodeNode = node;
---

<Prism lang={codeNode.language} code={codeNode.code ? codeNode.code : ""} />
